<div class="auth-wrapper">
  <div class="auth-content">
    <div class="auth-bg">
      <span class="r"></span>
      <span class="r s"></span>
      <span class="r s"></span>
      <span class="r"></span>
    </div>
    <div class="card">
      <div class="card-body text-center">
        <form (ngSubmit)="onSubmit($event)">
          <div class="mb-4">
            <i class="feather icon-user-plus auth-icon"></i>
          </div>
          <h3 class="mb-4">Cadastre-se</h3>
          <div class="input-group mb-3">
            <input type="text" id="nomeUsuario" class="form-control" placeholder="Usuário"
              [field]="registerForm.nomeUsuario"
              [class.is-invalid]="submitted() && registerForm.nomeUsuario().errors().length > 0" />
            @if (submitted() && registerForm.nomeUsuario().errors().length > 0) {
            <div class="invalid-feedback">
              @for (error of registerForm.nomeUsuario().errors(); track error.kind) {
              <div>{{ error.message }}</div>
              }
            </div>
            }
          </div>
          <div class="input-group mb-3">
            <input type="email" class="form-control" id="floatingInput"
              [class.is-invalid]="submitted() && registerForm.email().invalid()" placeholder="Email"
              [field]="registerForm.email" />
            @if (submitted() && registerForm.email().invalid()) {
            <div class="invalid-feedback">
              @for (error of registerForm.email().errors(); track error.kind) {
              <div>{{ error.message }}</div>
              }
            </div>
            }
          </div>
          <div class="input-group mb-4">
            @if (!showPassword()) {
            <input type="password" id="senha" class="form-control" [field]="registerForm.senha"
              [class.is-invalid]="submitted() && registerForm.senha().errors().length > 0"
              placeholder="Senha (min. 8 caracteres)" />
            } @else {
            <input type="text" id="senha" class="form-control" [field]="registerForm.senha"
              [class.is-invalid]="submitted() && registerForm.senha().errors().length > 0"
              placeholder="Senha (min. 8 caracteres)" />
            }
            <i [ngClass]="showPassword() ? 'feather icon-eye' : 'feather icon-eye-off'" id="togglePassword"
              (click)="togglePasswordVisibility()"></i>
            @if (submitted() && registerForm.senha().errors().length > 0) {
            <div class="invalid-feedback">
              @for (error of registerForm.senha().errors(); track error.kind) {
              <div>{{ error.message }}</div>
              }
            </div>
            }
          </div>
          <div class="form-group mb-3 text-start ">
            <select id="tipoUsuario" class="mb-3 form-control" title="select" [field]="registerForm.tipoUsuario">
              <option>Administrador</option>
              <option>Comum</option>
            </select>
          </div>
          <button type="submit" class="btn btn-primary shadow-2 mb-4">Cadastre-se</button>
        </form>
        <p class="mb-0 text-muted">
          Você já tem uma conta?
          <a [routerLink]="['/login']">Login</a>
        </p>
      </div>
    </div>
  </div>
</div>